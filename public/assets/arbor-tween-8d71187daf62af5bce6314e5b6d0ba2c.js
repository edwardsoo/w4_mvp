//  Copyright (c) 2011 Samizdat Drafting Co.
//  The above copyright notice and this permission notice shall be
//  NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
//  Copyright Â© 2001 Robert Penner. All rights reserved.
//  Redistributions of source code must retain the above copyright
//  Redistributions in binary form must reproduce the above copyright
//  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
//  A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
!function($){var trace=function(msg){if("undefined"!=typeof window&&window.console){for(var len=arguments.length,args=[],i=0;len>i;i++)args.push("arguments["+i+"]");eval("console.log("+args.join(",")+")")}},dirname=function(e){var r=e.replace(/^\/?(.*?)\/?$/,"$1").split("/");return r.pop(),"/"+r.join("/")},basename=function(e){var r=e.replace(/^\/?(.*?)\/?$/,"$1").split("/"),n=r.pop();return""==n?null:n},_ordinalize_re=/(\d)(?=(\d\d\d)+(?!\d))/g,ordinalize=function(e){var r=""+e;return 11e3>e?r=(""+e).replace(_ordinalize_re,"$1,"):1e6>e?r=Math.floor(e/1e3)+"k":1e9>e&&(r=(""+Math.floor(e/1e3)).replace(_ordinalize_re,"$1,")+"m"),r},nano=function(e,r){return e.replace(/\{([\w\-\.]*)}/g,function(e,n){var t=n.split("."),a=r[t.shift()];return $.each(t,function(){a=a.hasOwnProperty(this)?a[this]:e}),a})},objcopy=function(e){if(void 0===e)return void 0;if(null===e)return null;if(e.parentNode)return e;switch(typeof e){case"string":return e.substring(0);case"number":return e+0;case"boolean":return e===!0}var r=$.isArray(e)?[]:{};return $.each(e,function(e,n){r[e]=objcopy(n)}),r},objmerge=function(e,r){e=e||{},r=r||{};var n=objcopy(e);for(var t in r)n[t]=r[t];return n},objcmp=function(e,r,n){if(!e||!r)return e===r;if(typeof e!=typeof r)return!1;if("object"!=typeof e)return e===r;if($.isArray(e)){if(!$.isArray(r))return!1;if(e.length!=r.length)return!1}else{var t=[];for(var a in e)e.hasOwnProperty(a)&&t.push(a);var o=[];for(var a in r)r.hasOwnProperty(a)&&o.push(a);if(n||(t.sort(),o.sort()),t.join(",")!==o.join(","))return!1}var i=!0;return $.each(e,function(n){var t=objcmp(e[n],r[n]);return i=i&&t,i?void 0:!1}),i},objkeys=function(e){var r=[];return $.each(e,function(n){e.hasOwnProperty(n)&&r.push(n)}),r},objcontains=function(e){if(!e||"object"!=typeof e)return!1;for(var r=1,n=arguments.length;n>r;r++)if(e.hasOwnProperty(arguments[r]))return!0;return!1},uniq=function(e){for(var r=e.length,n={},t=0;r>t;t++)n[e[t]]=!0;return objkeys(n)},arbor_path=function(){var e=$("script").map(function(){var e=$(this).attr("src");if(e)return e.match(/arbor[^\/\.]*.js|dev.js/)?e.match(/.*\//)||"/":void 0});return e.length>0?e[0]:null},Colors=function(){var e=/#[0-9a-f]{6}/i,r=/#(..)(..)(..)/,n=function(e){var r=e.toString(16);return 2==r.length?r:"0"+r},t=function(e){return parseInt(e,16)},a=function(e){if(!e||"object"!=typeof e)return!1;var r=objkeys(e).sort().join("");return"abgr"==r?!0:void 0},o={CSS:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgrey:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},decode:function(n){for(var i=arguments.length,f=i-1;f>=0;f--)void 0===arguments[f]&&i--;var u=arguments;if(!n)return null;if(1==i&&a(n))return n;var c=null;if("string"==typeof n){var l=1;2==i&&(l=u[1]);var d=o.CSS[n.toLowerCase()];void 0!==d&&(n=d);var s=n.match(e);if(s){if(vals=n.match(r),!vals||!vals.length||4!=vals.length)return null;c={r:t(vals[1]),g:t(vals[2]),b:t(vals[3]),a:l}}}else"number"==typeof n&&(i>=3?(c={r:u[0],g:u[1],b:u[2],a:1},i>=4&&(c.a*=u[3])):i>=1&&(c={r:u[0],g:u[0],b:u[0],a:1},2==i&&(c.a*=u[1])));return c},validate:function(r){return r&&"string"==typeof r?void 0!==o.CSS[r.toLowerCase()]?!0:r.match(e)?!0:!1:!1},mix:function(e,r){o.decode(e),o.decode(r)},blend:function(e,r){r=void 0!==r?Math.max(0,Math.min(1,r)):1;var n=o.decode(e);if(!n)return null;if(1==r)return e;var n=e;"string"==typeof e&&(n=o.decode(e));var t=objcopy(n);return t.a*=r,nano("rgba({r},{g},{b},{a})",t)},encode:function(e){return a(e)||(e=o.decode(e),a(e))?1==e.a?nano("#{r}{g}{b}",{r:n(e.r),g:n(e.g),b:n(e.b)}):nano("rgba({r},{g},{b},{a})",e):null}};return o}(),Easing=function(){var e={linear:function(e,r,n,t){return n*(e/t)+r},quadin:function(e,r,n,t){return n*(e/=t)*e+r},quadout:function(e,r,n,t){return-n*(e/=t)*(e-2)+r},quadinout:function(e,r,n,t){return(e/=t/2)<1?n/2*e*e+r:-n/2*(--e*(e-2)-1)+r},cubicin:function(e,r,n,t){return n*(e/=t)*e*e+r},cubicout:function(e,r,n,t){return n*((e=e/t-1)*e*e+1)+r},cubicinout:function(e,r,n,t){return(e/=t/2)<1?n/2*e*e*e+r:n/2*((e-=2)*e*e+2)+r},quartin:function(e,r,n,t){return n*(e/=t)*e*e*e+r},quartout:function(e,r,n,t){return-n*((e=e/t-1)*e*e*e-1)+r},quartinout:function(e,r,n,t){return(e/=t/2)<1?n/2*e*e*e*e+r:-n/2*((e-=2)*e*e*e-2)+r},quintin:function(e,r,n,t){return n*(e/=t)*e*e*e*e+r},quintout:function(e,r,n,t){return n*((e=e/t-1)*e*e*e*e+1)+r},quintinout:function(e,r,n,t){return(e/=t/2)<1?n/2*e*e*e*e*e+r:n/2*((e-=2)*e*e*e*e+2)+r},sinein:function(e,r,n,t){return-n*Math.cos(e/t*(Math.PI/2))+n+r},sineout:function(e,r,n,t){return n*Math.sin(e/t*(Math.PI/2))+r},sineinout:function(e,r,n,t){return-n/2*(Math.cos(Math.PI*e/t)-1)+r},expoin:function(e,r,n,t){return 0==e?r:n*Math.pow(2,10*(e/t-1))+r},expoout:function(e,r,n,t){return e==t?r+n:n*(-Math.pow(2,-10*e/t)+1)+r},expoinout:function(e,r,n,t){return 0==e?r:e==t?r+n:(e/=t/2)<1?n/2*Math.pow(2,10*(e-1))+r:n/2*(-Math.pow(2,-10*--e)+2)+r},circin:function(e,r,n,t){return-n*(Math.sqrt(1-(e/=t)*e)-1)+r},circout:function(e,r,n,t){return n*Math.sqrt(1-(e=e/t-1)*e)+r},circinout:function(e,r,n,t){return(e/=t/2)<1?-n/2*(Math.sqrt(1-e*e)-1)+r:n/2*(Math.sqrt(1-(e-=2)*e)+1)+r},elasticin:function(e,r,n,t){var a=1.70158,o=0,i=n;if(0==e)return r;if(1==(e/=t))return r+n;if(o||(o=.3*t),i<Math.abs(n)){i=n;var a=o/4}else var a=o/(2*Math.PI)*Math.asin(n/i);return-(i*Math.pow(2,10*(e-=1))*Math.sin((e*t-a)*2*Math.PI/o))+r},elasticout:function(e,r,n,t){var a=1.70158,o=0,i=n;if(0==e)return r;if(1==(e/=t))return r+n;if(o||(o=.3*t),i<Math.abs(n)){i=n;var a=o/4}else var a=o/(2*Math.PI)*Math.asin(n/i);return i*Math.pow(2,-10*e)*Math.sin((e*t-a)*2*Math.PI/o)+n+r},elasticinout:function(e,r,n,t){var a=1.70158,o=0,i=n;if(0==e)return r;if(2==(e/=t/2))return r+n;if(o||(o=t*.3*1.5),i<Math.abs(n)){i=n;var a=o/4}else var a=o/(2*Math.PI)*Math.asin(n/i);return 1>e?-.5*i*Math.pow(2,10*(e-=1))*Math.sin((e*t-a)*2*Math.PI/o)+r:.5*i*Math.pow(2,-10*(e-=1))*Math.sin((e*t-a)*2*Math.PI/o)+n+r},backin:function(e,r,n,t,a){return void 0==a&&(a=1.70158),n*(e/=t)*e*((a+1)*e-a)+r},backout:function(e,r,n,t,a){return void 0==a&&(a=1.70158),n*((e=e/t-1)*e*((a+1)*e+a)+1)+r},backinout:function(e,r,n,t,a){return void 0==a&&(a=1.70158),(e/=t/2)<1?n/2*e*e*(((a*=1.525)+1)*e-a)+r:n/2*((e-=2)*e*(((a*=1.525)+1)*e+a)+2)+r},bouncein:function(r,n,t,a){return t-e.bounceOut(a-r,0,t,a)+n},bounceout:function(e,r,n,t){return(e/=t)<1/2.75?n*7.5625*e*e+r:2/2.75>e?n*(7.5625*(e-=1.5/2.75)*e+.75)+r:2.5/2.75>e?n*(7.5625*(e-=2.25/2.75)*e+.9375)+r:n*(7.5625*(e-=2.625/2.75)*e+.984375)+r},bounceinout:function(r,n,t,a){return a/2>r?.5*e.bounceIn(2*r,0,t,a)+n:.5*e.bounceOut(2*r-a,0,t,a)+.5*t+n}};return e}(),Tween=function(){var e={},r=!0,n={init:function(){return n},busy:function(){var r=!1;for(var n in e){r=!0;break}return r},to:function(n,t,a){var o=(new Date).valueOf(),i={},f={from:{},to:{},colors:{},node:n,t0:o,t1:o+1e3*t,dur:1e3*t},u="linear";for(var c in a)if("easing"!=c)if("delay"!=c)Colors.validate(a[c])?(f.colors[c]=[Colors.decode(n.data[c]),Colors.decode(a[c]),a[c]],i[c]=!0):(f.from[c]=void 0!=n.data[c]?n.data[c]:a[c],f.to[c]=a[c],i[c]=!0);else{var l=1e3*(a[c]||0);f.t0+=l,f.t1+=l}else{var d=a[c].toLowerCase();d in Easing&&(u=d)}if(f.ease=Easing[u],void 0===e[n._id]&&(e[n._id]=[]),e[n._id].push(f),e.length>1)for(var s=e.length-2;s>=0;s++){var b=e[s];for(var c in b.to)c in i?delete b.to[c]:i[c]=!0;for(var c in b.colors)c in i?delete b.colors[c]:i[c]=!0;$.isEmptyObject(b.colors)&&$.isEmptyObject(b.to)&&e.splice(s,1)}r=!1},interpolate:function(e,r,n,t){t=(t||"").toLowerCase();var a=Easing.linear;t in Easing&&(a=Easing[t]);var o=a(e,0,1,1);return Colors.validate(r)&&Colors.validate(n)?lerpRGB(o,r,n):isNaN(r)?"string"==typeof r?.5>o?r:n:void 0:lerpNumber(o,r,n)},tick:function(){var n=!0;for(var t in e){n=!1;break}if(!n){var a=(new Date).valueOf();return $.each(e,function(r,n){var t=!1;$.each(n,function(e,r){var n=r.ease(a-r.t0,0,1,r.dur);n=Math.min(1,n);var o=r.from,i=r.to,f=r.colors,u=r.node.data,c=1==n;for(var l in i)switch(typeof i[l]){case"number":u[l]=lerpNumber(n,o[l],i[l]),"alpha"==l&&(u[l]=Math.max(0,Math.min(1,u[l])));break;case"string":c&&(u[l]=i[l])}for(var l in f)if(c)u[l]=f[l][2];else{var d=lerpRGB(n,f[l][0],f[l][1]);u[l]=Colors.encode(d)}c&&(r.completed=!0,t=!0)}),t&&(e[r]=$.map(n,function(e){return e.completed?void 0:e}),0==e[r].length&&delete e[r])}),r=$.isEmptyObject(e)}}};return n.init()},lerpNumber=function(e,r,n){return r+e*(n-r)},lerpRGB=function(e,r,n){e=Math.max(Math.min(e,1),0);var t={};return $.each("rgba".split(""),function(a,o){t[o]=Math.round(r[o]+e*(n[o]-r[o]))}),t};arbor="undefined"!=typeof arbor?arbor:{},$.extend(arbor,{Tween:Tween,colors:{CSS:Colors.CSS,validate:Colors.validate,decode:Colors.decode,encode:Colors.encode,blend:Colors.blend}})}(this.jQuery);